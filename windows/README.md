# Windows

> *The following examples will save the currently programmed MAC address and use the key 00112233445566778899aabbccddeeff.*


Setup
-----
1. Install the following tools:
    * Python 3.4.x for Windows
        + https://www.python.org/downloads/
    * Segger J-Link software & documentation pack for windows
        + https://www.segger.com/jlink-software.html
2. Add Python 3.4.X and Segger J-Link to your path.
3. Attach a JLink programmer to your PC (either via USB directly with an eval board or your debugger)

Flash the Bootloader and S110 Softdevice 7.1.0
----------------------------------------------
* Run the installer script file:
    + python program.py --savemac -k 00112233445566778899aabbccddeeff
    + 

If you wish to flash your application binary as well, do the following:

1. Generate a binary for you application using your development tool chain. *DO NOT USE THE BELOW INSTRUCTIONS FOR THIS AS THE BINARY WILL BE INCORRECT.  THE BELOW TOOLS ARE _ONLY_ FOR OVER THE AIR UPDATE BINARIES.*
2. Rename the binary to application.bin and place in this folder.
3. Run the installer script file: `python program.py --savemac -k 00112233445566778899aabbccddeeff -a`

Generating Unsigned Application Binaries
----------------------------------------

To generate and unsigned binary, simply use the python script provided (genimage.py).  This script
prepends some information that informs bootloader about the size of the OTA update.  The script
takes in an intel hex file (generated by the Keil or GCC toolchains) and outputs a binary.

* python genimage.py -a blinky.hex -o blinky.bin

Once generated, this file can be used to perform an unsecured OTA update via the installed bootloader.

Generating Signed Application Binaries
--------------------------------------

To generate a signed binary, first following the steps in the previous section.  This step is required
for signed binary images.  Next, run the system approprite signimage executable and provide the key
with which to sign the image.  The private keys for signimage are 128-bit.

* For 32-bit systems:
    + signimage-w32 blinky.bin blinky_signed.bin 00112233445566778899aabbccddeeff
* For 64-bit systems:
    + signimage-w64 blinky.bin blinky_signed.bin 00112233445566778899aabbccddeeff
    
Installing your application
---------------------------

At this time, there is no way to do this from Windows with an OTA method.  The iOS (and soon Android) example 
DFU mobile apps can be used for this purpose.

We are working on a version that will allow you to load the application via the USB UART attached to the module.

[Home](https://github.com/rigado/bootloader-tools/)
